# §0 历史

# §1 简介：积分的稳定值

首先，让我们回顾微积分中关于寻找单变量函数最大值和最小值的基本原理：
原理 （最大值是稳定点）令$f(x)$是一个“好”函数，则$f$的最大值或最小值出现在$f^{\prime}(x)=0$。

(上面原理中的“好”指的是连续可微，在本文中将不精确区分可能出现的例外，通常假设我们只对足够光滑的函数感兴趣，这样就不用担心函数的可微性)

变分法(Calculus of Variation)是一系列技术的集合，其不再是寻找单变量函数的最大值或最小值，而是寻找一个泛函(一个函数的函数)，即：选择函数使得某个值最小。这样的问题在物理中经常出现。

例 1.1 (两点之间最短路径) 给定二维空间中的点$(x_{1},y_{1})$和$(x_{2},y_{2})$它们之间的最短路径是什么？

通过旋转平面(不影响两点之间的距离)，我们可以假设$y_{1}=y_{2}$。

让我们想象路径是由一个合适的好(连续可微)函数$y(x)$给出的，那么路径的长度由下面的公式给出
$$
I[y]=\int_{x_{1}}^{x_{2}}\sqrt{1+y^{\prime}(x)^{2}}\mathrm{d}x\tag*{}
$$
而我们对于$y(x)$的唯一约束是$y(x_{1})=y(x_{2})=y_{1}$。由于$y^{\prime}(x)^{2}\geqslant 0$，我们可以看到当
$$
y^{\prime}(x)=0\tag*{}
$$
积分最小，同时直线路径使得距离最小。
(直觉上很明显，任何路径都可以用光滑路径来任意地近似，因此只考虑光滑路径就足够了；同样的，这不是本文的重点，因此我们将经常假设我们可以将自己限制在足够好的函数上，而没有严格的理由)。

注意到我们已经从全局标准——所有可能路径的变化推导出了关于在某一点发生什么的一个局部规则。这就是变分法的基本思想，我们将对它进行相当程度的概括，并应用于广泛的问题。

物理学中最简单的观点之一是光沿直线传播。如果用下面的方式来解释，这个观点就会获得更大的力量：光沿直线传播，因为直线段是两点之间最短的距离。这可能听起来是一个微不足道的重述，但它仍然是Einstein广义相对论的基本观点之一，并与用量子电动力学现代理解光紧密相连，所以应该认真对待。

例 1.2 (Biathlon问题) 一群运动员从点$A$到点$B$，他们首先需要穿过一片田野(以速度$c_{1}$奔跑)，然后横渡一条河(以$c_{2}$游泳)。按照哪条路径从$A$到$B$最快？

很明显，运动员应该从$A$以直线跑到河边的$P$处，然后再从$P$处以直线游到$B$处，因为直线能使距离最小。(如果$c_{1}\geqslant c_{2}$，则考虑最后运动员在田野上的最后一点$P$；从$A$到$P$最快的方式是在田野上跑直线。在这之后最快的方式是从$P$游直线到$B$。)

令$A=(x_{A},y_{A})$,$B=(x_{B},y_{B})$和$P=(x_{P},y_{P})$。我们想选择$y_{P}$使得总时间最少。在$y_{P}$的最佳值，我们有
$$
\frac{\mathrm{d}}{\mathrm{d}y_{P}}\left(\frac{\sqrt{(x_{A}-x_{P})^{2}+(y_{A}-y_{P})^{2}}}{c_{1}}+\frac{\sqrt{(x_{B}-x_{P})^{2}+(y_{B}-y_{P})^{2}}}{c_{2}}\right)=0\tag*{}
$$
即
$$
\frac{(y_{A}-y_{P})}{c_{1}\sqrt{(x_{A}-x_{P})^{2}+(y_{A}-y_{P})^{2}}}=\frac{(y_{B}-y_{P})}{c_{2}\sqrt{(x_{B}-x_{P})^{2}+(y_{B}-y_{P})^{2}}}\tag*{}
$$
所以$P$的最佳位置是使得角度$\psi_{1}$,$\psi_{2}$满足：
$$
\frac{\sin\psi_{1}}{c_{1}}=\frac{\sin\psi_{2}}{c_{2}}\tag{1.1}
$$
你也许认出了(1.1)是Snell定律，该定律处理光从一种介质到另一种介质的折射，条件是观察到介质的折射率与速度的倒数一致。Fermat观察到Snell定律来自于一个最小时间原理，尽管直到20世纪这个原理才从量子物理和相对论的角度被理解。

我们现在可以解决一个稍微一般的问题。假设有人在泥泞的场地上跑步$x>0$，速度与$c(x)$成正比，其中$c(x)$是一些只取决于$x$坐标的光滑函数。等价地，我们有一个光学介质，其连续变化的折射率与$(c(x))^{-1}$成正比。那么从一个点到另一个点的最短时间的路径是什么？

我们可以按照下面的方式考虑这个问题。将泥地分成厚度为$\delta x$的条带，这样从$x$到$x+\delta x$的条带中，速度是一个常数，由$c(x)$给出。

然后反复应用方程(1.1)的Snell定律，
$$
\frac{\sin\psi(x)}{c(x)}\text{是路径的一个常数}\tag*{}
$$
一定是正确的。

现在取$\delta x\to 0$的极限，这条定律依旧是正确的。

1.1 一点基本的微积分：路径与$x$-轴的角度$\psi=\psi(x)$使得$\tan\psi=\frac{\mathrm{d}y}{\mathrm{d}x}=y^{\prime}$。我们也有弧长的定义$\mathrm{d}s^{2}=\mathrm{d}x^{2}+\mathrm{d}y^{2}$。把这些放在一起，我们有
$$
\sin\psi=\frac{y^{\prime}}{\sqrt{1+y^{\prime 2}}}=\frac{\mathrm{d}y}{\mathrm{d}s},\quad \cos\psi=\frac{1}{\sqrt{1+y^{\prime 2}}}
=\frac{\mathrm{d}x}{\mathrm{d}s}\tag*{}
$$
从中也可以推导出
$$
\kappa=\frac{\mathrm{d}\psi}{\mathrm{d}s}=\frac{y^{\prime\prime}}{(1+y^{\prime 2})^{3/2}}
$$
其中，$\kappa$是路径的曲率，其定义方式在轴的旋转下是不变的。
# §2 Euler-Lagrange方程
# §3 经典例子和基本定理
# §4 扩展到多变量和Hamilton原理
# §5 物理和几何中更多的例子
# §6 多独立变量和更高阶导数情况的推广
# §7 受积分约束的极值
# §8 Sturm-Liouville方程的应用